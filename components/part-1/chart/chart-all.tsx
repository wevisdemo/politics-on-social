import React from 'react'
import { getLogoSmall, HeadDecorationLeft, HeadDecorationRight } from '../../utils'
import { GOVERNMENT, OPPOSITION } from './chart-data'

type Props = {}

const Legend = () => {
  return (
    <div>
      <div className='flex flex-row justify-center items-center text-center divide-x 
    wv-font-anuphan wv-b7 leading-[15px] opacity-60
    wv-b7 tablet:leading-[18px]
    desktop:hidden'>
        <svg width={450} height={30} viewBox="0 0 450 30" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g opacity="0.5">
            <rect width={450} height={30} fill="black" />
            <path d="M28.3841 12H29.9921C31.3601 10.824 32.1761 9.048 32.1761 7.752V7.416C32.1761 6.576 31.7201 6 30.7121 6C29.7041 6 29.2481 6.576 29.2481 7.416V7.752C29.2481 8.4 29.5361 8.88 30.1841 9.024C29.9201 10.152 29.3441 10.992 28.3841 12ZM41.1146 24.288C44.4746 24.288 46.6826 22.032 46.6826 18.744C46.6826 15.576 44.6186 13.584 41.7386 13.584C39.6986 13.584 38.4986 14.616 37.7066 15.984L37.5866 15.936C38.4986 12.048 40.4906 9.864 44.0666 7.248H41.4746C38.7866 9 35.4986 12.888 35.4986 17.856C35.4986 21.84 37.6346 24.288 41.1146 24.288ZM41.0906 22.536C38.8826 22.536 37.5866 21.264 37.5866 19.008V18.816C37.5866 16.56 38.8826 15.288 41.0906 15.288C43.2986 15.288 44.5946 16.56 44.5946 18.816V19.008C44.5946 21.264 43.2986 22.536 41.0906 22.536ZM50.0813 24H61.0733V22.224H52.2653L56.7773 18.168C58.9133 16.248 60.4493 14.424 60.4493 11.832C60.4493 8.976 58.5773 6.96 55.3133 6.96C52.0733 6.96 50.5853 8.928 49.9373 10.896L51.7373 11.592C52.1933 10.008 53.1533 8.76 55.2173 8.76C57.2813 8.76 58.3133 10.032 58.3133 11.88V12.168C58.3133 13.776 57.1133 15.456 55.5533 16.896L50.0813 21.936V24Z" fill="white" />
            <line x1="90.25" y1={1} x2="90.25" y2={28} stroke="white" strokeWidth="0.5" />
            <path d="M140.384 12H141.992C143.36 10.824 144.176 9.048 144.176 7.752V7.416C144.176 6.576 143.72 6 142.712 6C141.704 6 141.248 6.576 141.248 7.416V7.752C141.248 8.4 141.536 8.88 142.184 9.024C141.92 10.152 141.344 10.992 140.384 12ZM153.115 24.288C156.475 24.288 158.683 22.032 158.683 18.744C158.683 15.576 156.619 13.584 153.739 13.584C151.699 13.584 150.499 14.616 149.707 15.984L149.587 15.936C150.499 12.048 152.491 9.864 156.067 7.248H153.475C150.787 9 147.499 12.888 147.499 17.856C147.499 21.84 149.635 24.288 153.115 24.288ZM153.091 22.536C150.883 22.536 149.587 21.264 149.587 19.008V18.816C149.587 16.56 150.883 15.288 153.091 15.288C155.299 15.288 156.595 16.56 156.595 18.816V19.008C156.595 21.264 155.299 22.536 153.091 22.536ZM166.713 24.288C170.121 24.288 172.401 22.296 172.401 19.416C172.401 16.896 170.673 15.552 168.873 15.192V15.096C170.649 14.64 172.089 13.344 172.089 11.184C172.089 8.472 169.833 6.96 167.001 6.96C164.313 6.96 162.849 8.352 162.009 9.696L163.497 10.848C164.193 9.576 165.225 8.76 166.953 8.76C168.729 8.76 169.953 9.648 169.953 11.4V11.568C169.953 13.176 168.801 14.352 166.545 14.352H164.721V16.104H166.689C169.041 16.104 170.289 17.232 170.289 19.2V19.392C170.289 21.36 169.041 22.488 166.689 22.488C164.649 22.488 163.665 21.6 162.801 20.28L161.289 21.432C162.321 22.872 163.809 24.288 166.713 24.288Z" fill="white" />
            <line x1="225.25" y1={1} x2="225.25" y2={28} stroke="white" strokeWidth="0.5" />
            <path d="M275.384 12H276.992C278.36 10.824 279.176 9.048 279.176 7.752V7.416C279.176 6.576 278.72 6 277.712 6C276.704 6 276.248 6.576 276.248 7.416V7.752C276.248 8.4 276.536 8.88 277.184 9.024C276.92 10.152 276.344 10.992 275.384 12ZM288.115 24.288C291.475 24.288 293.683 22.032 293.683 18.744C293.683 15.576 291.619 13.584 288.739 13.584C286.699 13.584 285.499 14.616 284.707 15.984L284.587 15.936C285.499 12.048 287.491 9.864 291.067 7.248H288.475C285.787 9 282.499 12.888 282.499 17.856C282.499 21.84 284.635 24.288 288.115 24.288ZM288.091 22.536C285.883 22.536 284.587 21.264 284.587 19.008V18.816C284.587 16.56 285.883 15.288 288.091 15.288C290.299 15.288 291.595 16.56 291.595 18.816V19.008C291.595 21.264 290.299 22.536 288.091 22.536ZM304.281 24H306.201V20.712H308.625V19.032H306.201V7.248H303.201L296.193 18.936V20.712H304.281V24ZM298.089 19.032L304.161 8.808H304.281V19.032H298.089Z" fill="white" />
            <line x1="360.25" y1={1} x2="360.25" y2={28} stroke="white" strokeWidth="0.5" />
            <path d="M388.384 12H389.992C391.36 10.824 392.176 9.048 392.176 7.752V7.416C392.176 6.576 391.72 6 390.712 6C389.704 6 389.248 6.576 389.248 7.416V7.752C389.248 8.4 389.536 8.88 390.184 9.024C389.92 10.152 389.344 10.992 388.384 12ZM401.115 24.288C404.475 24.288 406.683 22.032 406.683 18.744C406.683 15.576 404.619 13.584 401.739 13.584C399.699 13.584 398.499 14.616 397.707 15.984L397.587 15.936C398.499 12.048 400.491 9.864 404.067 7.248H401.475C398.787 9 395.499 12.888 395.499 17.856C395.499 21.84 397.635 24.288 401.115 24.288ZM401.091 22.536C398.883 22.536 397.587 21.264 397.587 19.008V18.816C397.587 16.56 398.883 15.288 401.091 15.288C403.299 15.288 404.595 16.56 404.595 18.816V19.008C404.595 21.264 403.299 22.536 401.091 22.536ZM415.361 24.288C418.889 24.288 421.001 22.008 421.001 18.744C421.001 15.504 418.889 13.56 416.009 13.56C414.257 13.56 413.369 14.28 412.577 15.408H412.409L412.889 9.024H420.233V7.248H411.257L410.657 16.464L412.361 16.704C413.057 15.936 413.825 15.288 415.361 15.288C417.641 15.288 418.865 16.56 418.865 18.768V19.008C418.865 21.216 417.641 22.488 415.361 22.488C413.345 22.488 412.505 21.6 411.641 20.28L410.129 21.432C411.137 22.872 412.577 24.288 415.361 24.288Z" fill="white" />
          </g>
        </svg>
      </div>
      <div className=' flex-row justify-around items-center text-center divide-x 
    wv-font-anuphan wv-b7 leading-[15px] opacity-60
    wv-b7 desktop:leading-[18px]
    hidden desktop:flex'>
        <svg width={450} height={18} viewBox="0 0 450 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g opacity="0.5">
            <path d="M31.9 14H37.396V13.112H32.992L35.248 11.084C36.316 10.124 37.084 9.212 37.084 7.916C37.084 6.488 36.148 5.48 34.516 5.48C32.896 5.48 32.152 6.464 31.828 7.448L32.728 7.796C32.956 7.004 33.436 6.38 34.468 6.38C35.5 6.38 36.016 7.016 36.016 7.94V8.084C36.016 8.888 35.416 9.728 34.636 10.448L31.9 12.968V14ZM41.7353 14.144C43.4993 14.144 44.5553 13.004 44.5553 11.372C44.5553 9.752 43.4993 8.78 42.0593 8.78C41.1833 8.78 40.7393 9.14 40.3433 9.704H40.2593L40.4993 6.512H44.1713V5.624H39.6833L39.3833 10.232L40.2353 10.352C40.5833 9.968 40.9673 9.644 41.7353 9.644C42.8753 9.644 43.4873 10.28 43.4873 11.384V11.504C43.4873 12.608 42.8753 13.244 41.7353 13.244C40.7273 13.244 40.3073 12.8 39.8753 12.14L39.1193 12.716C39.6233 13.436 40.3433 14.144 41.7353 14.144ZM49.0026 14.144C50.6826 14.144 51.7866 13.016 51.7866 11.372C51.7866 9.788 50.7546 8.792 49.3146 8.792C48.2946 8.792 47.6946 9.308 47.2986 9.992L47.2386 9.968C47.6946 8.024 48.6906 6.932 50.4786 5.624H49.1826C47.8386 6.5 46.1946 8.444 46.1946 10.928C46.1946 12.92 47.2626 14.144 49.0026 14.144ZM48.9906 13.268C47.8866 13.268 47.2386 12.632 47.2386 11.504V11.408C47.2386 10.28 47.8866 9.644 48.9906 9.644C50.0946 9.644 50.7426 10.28 50.7426 11.408V11.504C50.7426 12.632 50.0946 13.268 48.9906 13.268ZM53.4859 14H58.9819V13.112H54.5779L56.8339 11.084C57.9019 10.124 58.6699 9.212 58.6699 7.916C58.6699 6.488 57.7339 5.48 56.1019 5.48C54.4819 5.48 53.7379 6.464 53.4139 7.448L54.3139 7.796C54.5419 7.004 55.0219 6.38 56.0539 6.38C57.0859 6.38 57.6019 7.016 57.6019 7.94V8.084C57.6019 8.888 57.0019 9.728 56.2219 10.448L53.4859 12.968V14Z" fill="white" />
            <line x1="90.25" y1="1.5" x2="90.25" y2="16.5" stroke="white" strokeWidth="0.5" />
            <path d="M143.9 14H149.396V13.112H144.992L147.248 11.084C148.316 10.124 149.084 9.212 149.084 7.916C149.084 6.488 148.148 5.48 146.516 5.48C144.896 5.48 144.152 6.464 143.828 7.448L144.728 7.796C144.956 7.004 145.436 6.38 146.468 6.38C147.5 6.38 148.016 7.016 148.016 7.94V8.084C148.016 8.888 147.416 9.728 146.636 10.448L143.9 12.968V14ZM153.735 14.144C155.499 14.144 156.555 13.004 156.555 11.372C156.555 9.752 155.499 8.78 154.059 8.78C153.183 8.78 152.739 9.14 152.343 9.704H152.259L152.499 6.512H156.171V5.624H151.683L151.383 10.232L152.235 10.352C152.583 9.968 152.967 9.644 153.735 9.644C154.875 9.644 155.487 10.28 155.487 11.384V11.504C155.487 12.608 154.875 13.244 153.735 13.244C152.727 13.244 152.307 12.8 151.875 12.14L151.119 12.716C151.623 13.436 152.343 14.144 153.735 14.144ZM161.003 14.144C162.683 14.144 163.787 13.016 163.787 11.372C163.787 9.788 162.755 8.792 161.315 8.792C160.295 8.792 159.695 9.308 159.299 9.992L159.239 9.968C159.695 8.024 160.691 6.932 162.479 5.624H161.183C159.839 6.5 158.195 8.444 158.195 10.928C158.195 12.92 159.263 14.144 161.003 14.144ZM160.991 13.268C159.887 13.268 159.239 12.632 159.239 11.504V11.408C159.239 10.28 159.887 9.644 160.991 9.644C162.095 9.644 162.743 10.28 162.743 11.408V11.504C162.743 12.632 162.095 13.268 160.991 13.268ZM167.802 14.144C169.506 14.144 170.646 13.148 170.646 11.708C170.646 10.448 169.782 9.776 168.882 9.596V9.548C169.77 9.32 170.49 8.672 170.49 7.592C170.49 6.236 169.362 5.48 167.946 5.48C166.602 5.48 165.87 6.176 165.45 6.848L166.194 7.424C166.542 6.788 167.058 6.38 167.922 6.38C168.81 6.38 169.422 6.824 169.422 7.7V7.784C169.422 8.588 168.846 9.176 167.718 9.176H166.806V10.052H167.79C168.966 10.052 169.59 10.616 169.59 11.6V11.696C169.59 12.68 168.966 13.244 167.79 13.244C166.77 13.244 166.278 12.8 165.846 12.14L165.09 12.716C165.606 13.436 166.35 14.144 167.802 14.144Z" fill="white" />
            <line x1="225.25" y1="1.5" x2="225.25" y2="16.5" stroke="white" strokeWidth="0.5" />
            <path d="M278.9 14H284.396V13.112H279.992L282.248 11.084C283.316 10.124 284.084 9.212 284.084 7.916C284.084 6.488 283.148 5.48 281.516 5.48C279.896 5.48 279.152 6.464 278.828 7.448L279.728 7.796C279.956 7.004 280.436 6.38 281.468 6.38C282.5 6.38 283.016 7.016 283.016 7.94V8.084C283.016 8.888 282.416 9.728 281.636 10.448L278.9 12.968V14ZM288.735 14.144C290.499 14.144 291.555 13.004 291.555 11.372C291.555 9.752 290.499 8.78 289.059 8.78C288.183 8.78 287.739 9.14 287.343 9.704H287.259L287.499 6.512H291.171V5.624H286.683L286.383 10.232L287.235 10.352C287.583 9.968 287.967 9.644 288.735 9.644C289.875 9.644 290.487 10.28 290.487 11.384V11.504C290.487 12.608 289.875 13.244 288.735 13.244C287.727 13.244 287.307 12.8 286.875 12.14L286.119 12.716C286.623 13.436 287.343 14.144 288.735 14.144ZM296.003 14.144C297.683 14.144 298.787 13.016 298.787 11.372C298.787 9.788 297.755 8.792 296.315 8.792C295.295 8.792 294.695 9.308 294.299 9.992L294.239 9.968C294.695 8.024 295.691 6.932 297.479 5.624H296.183C294.839 6.5 293.195 8.444 293.195 10.928C293.195 12.92 294.263 14.144 296.003 14.144ZM295.991 13.268C294.887 13.268 294.239 12.632 294.239 11.504V11.408C294.239 10.28 294.887 9.644 295.991 9.644C297.095 9.644 297.743 10.28 297.743 11.408V11.504C297.743 12.632 297.095 13.268 295.991 13.268ZM304.086 14H305.046V12.356H306.258V11.516H305.046V5.624H303.546L300.042 11.468V12.356H304.086V14ZM300.99 11.516L304.026 6.404H304.086V11.516H300.99Z" fill="white" />
            <line x1="360.25" y1="1.5" x2="360.25" y2="16.5" stroke="white" strokeWidth="0.5" />
            <path d="M391.9 14H397.396V13.112H392.992L395.248 11.084C396.316 10.124 397.084 9.212 397.084 7.916C397.084 6.488 396.148 5.48 394.516 5.48C392.896 5.48 392.152 6.464 391.828 7.448L392.728 7.796C392.956 7.004 393.436 6.38 394.468 6.38C395.5 6.38 396.016 7.016 396.016 7.94V8.084C396.016 8.888 395.416 9.728 394.636 10.448L391.9 12.968V14ZM401.735 14.144C403.499 14.144 404.555 13.004 404.555 11.372C404.555 9.752 403.499 8.78 402.059 8.78C401.183 8.78 400.739 9.14 400.343 9.704H400.259L400.499 6.512H404.171V5.624H399.683L399.383 10.232L400.235 10.352C400.583 9.968 400.967 9.644 401.735 9.644C402.875 9.644 403.487 10.28 403.487 11.384V11.504C403.487 12.608 402.875 13.244 401.735 13.244C400.727 13.244 400.307 12.8 399.875 12.14L399.119 12.716C399.623 13.436 400.343 14.144 401.735 14.144ZM409.003 14.144C410.683 14.144 411.787 13.016 411.787 11.372C411.787 9.788 410.755 8.792 409.315 8.792C408.295 8.792 407.695 9.308 407.299 9.992L407.239 9.968C407.695 8.024 408.691 6.932 410.479 5.624H409.183C407.839 6.5 406.195 8.444 406.195 10.928C406.195 12.92 407.263 14.144 409.003 14.144ZM408.991 13.268C407.887 13.268 407.239 12.632 407.239 11.504V11.408C407.239 10.28 407.887 9.644 408.991 9.644C410.095 9.644 410.743 10.28 410.743 11.408V11.504C410.743 12.632 410.095 13.268 408.991 13.268ZM416.126 14.144C417.89 14.144 418.946 13.004 418.946 11.372C418.946 9.752 417.89 8.78 416.45 8.78C415.574 8.78 415.13 9.14 414.734 9.704H414.65L414.89 6.512H418.562V5.624H414.074L413.774 10.232L414.626 10.352C414.974 9.968 415.358 9.644 416.126 9.644C417.266 9.644 417.878 10.28 417.878 11.384V11.504C417.878 12.608 417.266 13.244 416.126 13.244C415.118 13.244 414.698 12.8 414.266 12.14L413.51 12.716C414.014 13.436 414.734 14.144 416.126 14.144Z" fill="white" />
          </g>
        </svg>
      </div>
    </div>
  )
}

const NoAccount = () => {
  return (
    <div className='w-full h-full flex justify-center items-center'>
      <div className='wv-font-anuphan wv-b7 opacity-60 text-center'>พรรคไม่มี account <br className='desktop:hidden' /> ในช่องทางนี้</div>
    </div>
  )
}


const ChartAll = ({ type }: { type: "all" | "facebook" | "twitter" | "youtube" }) => {

  const getChart = (data) => {
    switch (type) {
      case "all": return data.all || <NoAccount />
      case "facebook": return data.facebook || <NoAccount />
      case "twitter": return data.twitter || <NoAccount />
      case "youtube": return data.youtube || <NoAccount />
      default:
        return data.youtube || <NoAccount />;
    }
  }

  const getAvg = (data) => {
    switch (type) {
      case "all": return data.al
      case "facebook": return data.fb
      case "twitter": return data.tw
      case "youtube": return data.yt
      default:
        return null;
    }
  }

  return (
    <div className='flex flex-row justify-center mx-auto
    w-full desktop:mb-[78px]'>
      <div className="w-[128px] mr-[10px]
        desktop:w-auto desktop:max-w-[450px] desktop:mr-[32px]">
        <div className="flex flex-row gap-x-[5px] opacity-60">
          <HeadDecorationLeft />
          <div className="flex-none wv-font-anuphan wv-font-bold wv-b6 
            wv-b6 desktop:leading-[21px]">
            ฝ่ายรัฐบาล
          </div>
          <HeadDecorationRight />
        </div>
        {GOVERNMENT.map((data) => (
          <div key={`gov-${data.name}`} className={` mt-[34px] ${typeof getAvg(data) !== "undefined" ? "" : "opacity-50"}`}>
            <div className='desktop:flex desktop:flex-row desktop:justify-between'>
              <div className='flex gap-[5px] justify-start'>
                {getLogoSmall(data.name)}
                <div className='wv-font-anuphan wv-font-bold
                  wv-b7 leading-[15px]
                  wv-b7 desktop:leading-[18px]'>
                  {data.name}
                </div>
              </div>
              {getAvg(data) ?
                <div className='flex gap-[5px] justify-start'>
                  <div className='wv-font-anuphan wv-b7 leading-[15px]
                wv-b7 desktop:leading-[18px]
             opacity-60'>เฉลี่ย</div>
                  <div className='wv-font-anuphan wv-b7 leading-[15px]
                wv-b7 desktop:leading-[18px]'>{getAvg(data)}</div>
                  <div className='wv-font-anuphan wv-b7 leading-[15px]
                wv-b7 desktop:leading-[18px]
             opacity-60'>โพสต์/วัน</div>
                </div> :
                <div className='h-[16px]' />
              }
            </div>
            <div className='w-full h-[62px]'>
              {getChart(data)}
            </div>
            <Legend />
          </div>
        ))}
      </div>
      <div className='border-[.5px] border-white border-dashed' />
      <div className="w-[128px] ml-[10px]
      desktop:w-auto desktop:max-w-[450px]  desktop:ml-[32px]">
        <div className="flex flex-row gap-x-[5px] opacity-60">
          <HeadDecorationLeft />
          <div className="flex-none wv-font-anuphan wv-font-bold wv-b6 
            wv-b6 desktop:leading-[21px]">
            ฝ่ายค้าน
          </div>
          <HeadDecorationRight />
        </div>
        {OPPOSITION.map((data) => (
          <div key={`opp-${data.name}`} className={` mt-[34px] ${typeof getAvg(data) !== "undefined" ? "" : "opacity-50"}`}>
            <div className='desktop:flex desktop:flex-row desktop:justify-between'>
              <div className='flex gap-[5px] justify-start'>
                {getLogoSmall(data.name)}
                <div className='wv-font-anuphan wv-font-bold
                  wv-b7 leading-[15px]
                  wv-b7 desktop:leading-[18px]'>
                  {data.name}
                </div>
              </div>
              {getAvg(data) ?
                <div className='flex gap-[5px] justify-start'>
                  <div className='wv-font-anuphan wv-b7 leading-[15px]
                wv-b7 desktop:leading-[18px]
             opacity-60'>เฉลี่ย</div>
                  <div className='wv-font-anuphan wv-b7 leading-[15px]
                wv-b7 desktop:leading-[18px]'>{getAvg(data)}</div>
                  <div className='wv-font-anuphan wv-b7 leading-[15px]
                wv-b7 desktop:leading-[18px]
             opacity-60'>โพสต์/วัน</div>
                </div>
                :
                <div className='h-[16px]' />
              }

            </div>
            <div className='w-full h-[62px]'>
              {getChart(data)}
            </div>
            <Legend />
          </div>
        ))}
      </div>
    </div>
  )
}

export default ChartAll

